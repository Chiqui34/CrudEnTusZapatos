<h1>{{titulo}}</h1>

<div class="botonNuevo">
   <button id="btnNuevo" [routerLink]="['/diapositiva-form']" routerLinkActive="router-link-active">Nueva diapositiva</button>
</div>

<table class="table table-striped table-hover">
   <thead>
      <th>ID</th>
      <th>Título</th>
      <th>Imagen</th>
      <th>Activa</th>
      <th>&nbsp;&nbsp;Acciones</th>
   </thead>
   <tbody>
      <tr *ngFor="let diapositiva of diapositivas;">
         <td>{{diapositiva.id}}</td>
         <td>{{diapositiva.titulo}}</td>
         <td>
            <img [src]="'data:image/jpeg;base64,' + diapositiva.imagen" />
         </td>
         <td *ngIf="diapositiva.activo; else iconocross"><i id="iconOk" class="fas fa-check"></i></td>
         <ng-template #iconocross>
            <td><i id="iconFalse" class="fas fa-times"></i></td>
         </ng-template>

         <!--<td>{{diapositiva.activo}}</td>-->
         <td>
            <!--Botones de accion-->
            <a [routerLink]="['/diapositiva-form', diapositiva.id]">
               <button id="btnEditar" class="btn-secondary">Editar</button>
            </a>
            <button type="button" class="btn-danger" data-bs-toggle="modal" data-bs-target="#modalEliminar"
            attr.data-diapositiva="{{diapositiva.id}}" (click)="prepararEliminar(diapositiva.id)">
               Eliminar
            </button>
            
            <div class="modal fade" id="modalEliminar" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
               aria-labelledby="staticBackdropLabel" aria-hidden="true">
               <div class="modal-dialog">
                  <div class="modal-content">
                     <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Eliminar Diapositiva</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                     </div>
                     <div class="modal-body">
                        ¿Realmente deseas eliminar esta diapositiva {{diapositivaEliminar}}?
                     </div>
                     <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="eliminar(diapositivaEliminar)">Eliminar</button>
                     </div>
                  </div>
               </div>
            </div>

         </td>
      </tr>
   </tbody>
</table>

<footer class="botonVolver">
   <button id="btnVolver" [routerLink]="['/']" routerLinkActive="router-link-active">
      Volver
   </button>
</footer>
